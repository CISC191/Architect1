<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:shiro="http://www.pollix.at/thymeleaf/shiro"
>

<head>
    <th:block th:replace="~{ layout :: common_header(~{::title}) }"></th:block>
    <title>Login</title>
    <link rel="stylesheet" th:href="@{/css/login.css}">
</head>

<body class="bg-zinc-950">
<div>
    <div id="message-box"></div>
    <div class="wrapper">
        <div id="login" class="container">
            <h1>Welcome</h1>
            <form id="login-form" class="form">
                <input type="text" placeholder="Username" name="username" required>
                <input type="password" placeholder="Password" name="password" required>
                <p>Don't have an account? <a id="switch-to-register" href="#">Register</a></p>
                <button type="submit" id="login-button">Login</button>
            </form>
        </div>

        <div id="register" class="container" style="display: none;">
            <h1>Register</h1>
            <form id="register-form" class="form">
                <input type="email" placeholder="Email" name="email" pattern="/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/" required>
                <input type="text" placeholder="Username" name="username" required>
                <input type="text" placeholder="Nickname" name="nickname" required>
                <input type="password" placeholder="Password" name="password" required>
                <p>Already have an account? <a id="switch-to-login" href="#">Login</a></p>
                <button type="submit" id="register-button">Create account</button>
            </form>
        </div>
    </div>
    <div id="sea-of-balls"></div>

    <script th:src="@{js/login.js}"></script>
    <script>
        (function(){
            let ballContainer = document.getElementById("sea-of-balls");

            for (let i = 0; i < 10; i++) {
                let ball = document.createElement("span");
                ball.style.setProperty("--size", `${Math.random() * 200 + 100}px`)
                ball.style.setProperty("--speed", `${Math.random() * 5 + 20}s`)
                ball.style.setProperty("--delay", `-${Math.random() * 100 + 20}s`)
                ball.style.setProperty("left", `${Math.random() * 100}vw`)
                ballContainer.appendChild(ball);
            }
        })();
    </script>
</div>
</body>
</html>